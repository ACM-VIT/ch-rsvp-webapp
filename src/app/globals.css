@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Optional custom font faces (place files in public/fonts) */
@font-face {
  font-family: 'Qurova-Regular';
  src: url('/fonts/Qurova-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'QurovaMedium';
  src: url('/fonts/QurovaMedium.otf') format('opentype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'AreaVariable';
  src: url('/fonts/AreaVariable.ttf') format('truetype');
  font-weight: 400 800;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'AreaVariable-Thin';
  src: url('/fonts/AreaVariable-Thin.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

/* Cryptic Hunt theme tokens */
:root {
  --ch-bg: #241f1a;
  --ch-orange: #F5753B;
  --ch-text: #ffffff;
  --ch-subtext: #cccccc;
}

.ch-bg {
  background-color: var(--ch-bg);
}
.ch-text { color: var(--ch-text); }
.ch-subtext { color: var(--ch-subtext); }
.ch-orange { color: var(--ch-orange); }
.ch-btn { background-color: var(--ch-orange); color: var(--ch-text); }
.ch-btn:hover { filter: brightness(1.05); }
.ch-btn:disabled { opacity: .6; cursor: not-allowed; }
.ch-btn:focus-visible { outline: 2px solid #ffd7b5; outline-offset: 2px; }

/* Gradient utilities matching mobile MainColors.gradient */
.ch-gradient {
  background-image: linear-gradient(90deg, #EF4136, #F5753B, #FAA83F);
}
.ch-gradient-text {
  background-image: linear-gradient(90deg, #EF4136, #F5753B, #FAA83F);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Font aliases to mirror mobile naming */
.font-qurova { font-family: 'QurovaMedium', 'Qurova-Regular', var(--font-geist-sans), ui-sans-serif, system-ui; font-weight: 600; }
.font-area { font-family: 'AreaVariable-Thin', 'AreaVariable', var(--font-geist-sans), ui-sans-serif, system-ui; font-weight: 300; }
.font-geist { font-family: var(--font-geist-sans), ui-sans-serif, system-ui; }

.nav-icon {
  /* Normalize all inactive icons to the same subtle grey */
  filter: grayscale(1) brightness(1) contrast(100%);
  opacity: 0.78;
  transition: filter 120ms ease, opacity 120ms ease;
}
.nav-icon.active {
  /* Match mobile accent when active */
  filter: invert(57%) sepia(65%) saturate(1038%) hue-rotate(341deg) brightness(101%) contrast(96%);
  opacity: 1;
}

/* Utility tweaks to mimic RN spacing/feel */
.ch-title { letter-spacing: 0.5px; }
.ch-tagline { letter-spacing: -0.2px; }

/* Motion + polish */
.fade-in { animation: fadein .35s ease-out both; }
@keyframes fadein { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }

.elevate { transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease; }
.elevate:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,.25); border-color: rgba(255,255,255,.08); }

.btn-ripple { position: relative; overflow: hidden; }
.btn-ripple:after { content: ""; position:absolute; inset:auto auto 50% 50%; width:0; height:0; background: rgba(255,255,255,.25); border-radius:50%; transform: translate(-50%,-50%); opacity:0; transition: width .35s ease, height .35s ease, opacity .35s ease; }
.btn-ripple:active:after { width:220px; height:220px; opacity:1; inset:auto auto 50% 50%; }

/* Skeletons */
.skeleton { position:relative; overflow:hidden; background: rgba(255,255,255,.06); border-radius: 10px; }
.skeleton:after { content:""; position:absolute; inset:0; background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent); transform: translateX(-100%); animation: shimmer 1.2s infinite; }
@keyframes shimmer { to { transform: translateX(100%); } }

/*
  Responsive utilities to ensure a consistent, mobileâ€‘first layout
  across all pages while scaling gracefully on larger screens.
*/
.ch-container { width: 100%; max-width: 56rem; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
@media (min-width: 640px) { .ch-container { padding-left: 1.25rem; padding-right: 1.25rem; } }
.ch-container-narrow { max-width: 48rem; }

/* Fluid typography to keep mobile look but scale up on desktop */
.ch-h1 { font-size: clamp(28px, 6vw, 42px); line-height: 1.15; }
.ch-h2 { font-size: clamp(22px, 4.5vw, 32px); line-height: 1.2; }
.ch-h3 { font-size: clamp(18px, 3.5vw, 24px); line-height: 1.25; }

/* Card surface used widely on the app */
.ch-card { background: rgba(0,0,0,0.25); border-radius: 1rem; }
.ch-card--outlined { border: 1px solid rgba(255,255,255,0.06); }
.ch-glass { backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }

/* Respect iOS/Android safe areas and bottom nav spacing */
.safe-bottom { padding-bottom: calc(1rem + env(safe-area-inset-bottom)); }
.nav-safe-offset { bottom: calc(1rem + env(safe-area-inset-bottom)); }
@supports(padding:max(0px)) {
  .safe-bottom { padding-bottom: max(1rem, calc(1rem + env(safe-area-inset-bottom))); }
}

/* Utilities for horizontally scrollable rows on small screens */
.scroll-x { overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: thin; }
.scroll-x::-webkit-scrollbar { height: 6px; }
.scroll-x::-webkit-scrollbar-thumb { background: rgba(255,255,255,.15); border-radius: 999px; }
.snap-x { scroll-snap-type: x mandatory; }
.snap-center { scroll-snap-align: center; }

/* Hide scrollbars for specific scroll containers (mobile nav) */
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* Vertical scroll area helper (used for lists within a page) */
.scroll-area-y { overflow-y: auto; -webkit-overflow-scrolling: touch; max-height: min(70vh, 520px); }
.scroll-area-y::-webkit-scrollbar { width: 6px; }
.scroll-area-y::-webkit-scrollbar-thumb { background: rgba(255,255,255,.15); border-radius: 999px; }

/* Questions list scroll area: fixed height so banners/prompts above don't shift it */
.questions-scroll {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  height: min(56vh, 440px); /* fixed instead of max-height */
  padding-bottom: calc(1.25rem + env(safe-area-inset-bottom)); /* keep last item above nav */
  scrollbar-gutter: stable both-edges; /* avoid layout shift when scrollbar appears */
}
.questions-scroll::-webkit-scrollbar { width: 6px; }
.questions-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,.18); border-radius: 999px; }

/* Image content inside question parts */
.ch-img { width: 100%; height: auto; border-radius: 0.75rem; display: block; }

/* Ensure oversized question content doesn't break layout */
.question-content { max-height: min(65vh, 680px); overflow: auto; -webkit-overflow-scrolling: touch; }
.question-content img, .question-content video { max-width: 100%; height: auto; object-fit: contain; }
.question-content .ch-img { max-height: min(60vh, 560px); object-fit: contain; }
.question-content p, .question-content a, .question-content span, .question-content div { overflow-wrap: anywhere; word-break: break-word; }

/* Custom scrollbar for question detail (container + inner) */
.custom-scroll, .custom-scroll-inner, .question-content {
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.25) transparent;
}
.custom-scroll::-webkit-scrollbar, .custom-scroll-inner::-webkit-scrollbar, .question-content::-webkit-scrollbar { width: 10px; }
.custom-scroll::-webkit-scrollbar-track, .custom-scroll-inner::-webkit-scrollbar-track, .question-content::-webkit-scrollbar-track { background: transparent; }
.custom-scroll::-webkit-scrollbar-thumb, .custom-scroll-inner::-webkit-scrollbar-thumb, .question-content::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.05));
  border-radius: 999px;
  border: 2px solid rgba(0,0,0,0.2);
}
.custom-scroll::-webkit-scrollbar-thumb:hover, .custom-scroll-inner::-webkit-scrollbar-thumb:hover, .question-content::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, var(--ch-orange), rgba(255,255,255,0.15));
}

/* Subtle shake for incorrect answers */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-6px); }
  40% { transform: translateX(6px); }
  60% { transform: translateX(-4px); }
  80% { transform: translateX(4px); }
}

/* Auth hero (six-owls) with responsive crop; larger and higher on desktop */
.auth-hero { position: relative; overflow: hidden; height: clamp(200px, 38vh, 340px); }
.auth-hero img { display: block; width: min(560px, 118%); height: auto; margin: 0 auto; transform: translateY(-12%); }
@media (min-width: 480px) { .auth-hero img { transform: translateY(-11%); } }
@media (min-width: 768px) { .auth-hero img { transform: translateY(-10%); } }
@media (min-width: 1024px) {
  .auth-hero { height: 440px; }
  .auth-hero img { width: min(480px, 138%); transform: translateY(-18%); margin-bottom: -5px; }
}
